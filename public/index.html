<html>
  <head>
    <link rel="icon"  href="/project/pics/smile.jpg">
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
    </script>
    <title>Muskan</title>
    <link rel="stylesheet" href="css/dabrastyle.css">
    <link rel="stylesheet" href="css/bootstrap.css">
    <script src="js/bootstrap.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="js/jquery-1.8.2.min.js"> </script>
    <script>

 //  email  Regular Expressions 
 $(document).ready(function(){
  
 $("#txtUid").blur(function(){ 
                   var r="/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$/";
                   var Uid =$("#txtUid").val();
                    if($("#txtUid").val()=="")
                    {
                        $("#txtUid").addClass("not-ok").removeClass("ok");
                        $("#errUid").html("Fill Email Id plzzz.");
                    }
                    else if(r.test(Uid)==false)
                    {
                        $("#txtUid").addClass("not-ok").removeClass("ok");
                        $("#errUid").html("must have @ and full stop");
                    }
                    else
                    {
                        $("#txtUid").addClass("ok").removeClass("not-ok");
                        $("#errUid").html("Good");
                    }
                }); 

        //  mob  Regular Expressions 
           $("#txtMob").blur(function(){
             var Mob=$("#txtMob").val();

            var r=/^[6-9]{1}[0-9]{9}$/; //reg exp

            var mob=$("#txtMob").val();

               if($("#txtMob").val()=="")
                {
                    $("#txtMob").addClass("not-ok").removeClass("ok");
                    $("#errMob").html("plz fill");
                }
                else
                if(r.test(mob)==false)
                    {
                        $("#txtMob").addClass("not-ok").removeClass("ok");
                    $("#errMob").html("enter correct number");
                    }
                else
                {
                    $("#txtMob").addClass("ok").removeClass("not-ok");
                    $("#errMob").html("Good");
                }
           });

           // pwd regular expression
           $("#txtPwd").blur(function(){

            var r=/(?=^.{8,}$)(?=.*\d)(?=.*[!@#$%^&*]+)(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/;
               var pwd=$("#txtPwd").val();

            if($("#txtPwd").val()=="")
                {
                    $("#txtPwd").addClass("not-ok").removeClass("ok");
                    $("#errPwd").html(" fill password plz")
                }
                else
                if(r.test(pwd)==false)
                {
                   $("#txtPwd").addClass("not-ok").removeClass("ok");
                    $("#errPwd").html("must have capital alphabet,digits and special symbol");
                }
                else
               {
                $("#errPwd").html("Good");  
                $("#txtPwd").addClass("ok").removeClass("not-ok");
               } 
           });

           //-------------------
           $("#btnSignup").click(function()
           {
             var email=$("#txtUid").val();
             var pwd=$("#txtPwd").val();
             var contact=$("#txtMob").val();
             var type=$("#user").val();
             //ajax call
             var urlWithData="/signup-process?x="+email+"&y="+pwd+"&y="+contact+"&u="+type;

             $.get(urlWithData,function(response)
             {
              //alert(JSON.stringify(response));
              $("#resp-Signup").html(response);
             });
           });

           $("#txtUid").blur(function(){
            var urlWithData="/availablity?x="+$("#txtUid").val();
            $.get(urlWithData,function(response){
             if(response == "noissue"){
               $("#res-email").html("avaliable");
               $("#res-email").css("color","green");
             }
             else if(response=="issue"){
               $("#res-email").html("already taken");
               $("#res-email").css("color","red");
             }
            });
    </script>
  </head>
  <body>

<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container-fluid" id="title">
    <a class="navbar-brand" href="#" id="real-java"><marquee width="200" behavior="slide" title="www.smile.com">www.smile.com </marquee></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
             <div class="collapse navbar-collapse" id="navbarNav" style="display:flex;flex-direction: flex-end ;">
              <div class="d-grid gap-2 d-md-block" style="margin:auto;" >
              <button type="button" class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#signupModal"> Signup</button>
              <button type="button" class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#loginModal"> Login</button>
        </div>
          </div>
    </div>      
  </div>
</nav>

<!-- SIGNUP MODAL -->
<div class="modal fade" id="signupModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header bg-warning">
        <h5 class="modal-title " id="exampleModalLabel">SignUp Here</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div id="img"></div>
          <form>
            
              <div class="mb-3">
                
                <label for="txtUid" class="form-label">Email ID</label>
                <input id="txtUid" type="email" class="form-control" placeholder="name@example.com">
              <span id="errUid">we will keep ur id safe</span>
              <span id="res-email">*</span>
              </div>
              <div class="mb-3">
                  <label for="txtPwd" class="form-label">Password</label>
                <input type="password" class="form-control" id="txtPwd" placeholder="password">
                <span id="errPwd">*</span> 
                </div>
                <div class="mb-3">
                  <label for="txtMob" class="form-label">Mobile</label>
                <input type="text" class="form-control" id="txtMob">
                <span id="errMob">*</span> 
                </div>

 <div class="mb-3">
  <label for="validationServer04" class="form-label">User Type</label>
<select class="form-select" aria-label="Default select example">
  <option selected disabled value="">Choose...</option>
  <option value="1">Worker</option>
  <option value="2">Citizen</option>
</select>
</div>
          </form>
      </div>
      <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary">Signup</button>
      </div>
      <span class="modal-footer justify-content-center" id="resp-Signup"></span>
    </div>
  </div>
</div>

  <!-- LOGIN MODAL -->
  <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header bg-warning">
          <h5 class="modal-title " id="exampleModalLabel">Login Here</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <form>
              <div class="mb-3">
                <label for="txtUid" class="form-label">Email ID</label>
                <input id="txtUid" type="text" class="form-control">
              <div id="errUid">*</div>
              </div>
              <div class="mb-3">
                  <label for="txtPwd" class="form-label">Password</label>
                <input type="password" class="form-control" id="txtPwd">
                <div id="errPwd">*</div> 
                </div>
            </form>
        </div>
        <div class="modal-footer justify-content-center">
          <button type="button" formaction="/login" class="btn btn-primary">Login</button>
        </div>
      </div>
    </div>
  </div>
  </body>
  </html>